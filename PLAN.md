# План реалізації: Система обліку основних засобів (ОЗ)

## Архітектура

```
c:\Buh\
├── backend/                  # Django REST API
│   ├── config/               # Налаштування Django
│   │   ├── settings.py
│   │   ├── urls.py
│   │   └── wsgi.py
│   ├── apps/
│   │   ├── accounts/         # Користувачі та ролі
│   │   ├── assets/           # Основні засоби (ядро)
│   │   ├── documents/        # Генерація PDF-документів
│   │   └── reports/          # Звіти та відомості
│   ├── manage.py
│   └── requirements.txt
├── frontend/                 # React + Vite
│   ├── src/
│   │   ├── api/              # API-клієнт (axios)
│   │   ├── components/       # Загальні компоненти
│   │   ├── pages/            # Сторінки
│   │   ├── store/            # Стан (Zustand)
│   │   └── utils/            # Утиліти
│   ├── package.json
│   └── vite.config.ts
└── docker-compose.yml        # PostgreSQL + сервіси
```

## Етапи реалізації

### Етап 1: Ініціалізація проєкту
- [ ] Створити Django-проєкт з налаштуваннями PostgreSQL
- [ ] Створити Vite + React (TypeScript) фронтенд
- [ ] docker-compose.yml для PostgreSQL
- [ ] Налаштувати CORS, Django REST Framework

### Етап 2: Модуль користувачів (accounts)
- [ ] Модель користувача з ролями: Адміністратор, Бухгалтер, Інвентаризатор
- [ ] JWT-авторизація (djangorestframework-simplejwt)
- [ ] Сторінки: вхід, реєстрація, профіль
- [ ] Дозволи (permissions) за ролями

### Етап 3: Ядро — модуль основних засобів (assets)
Моделі:
- [ ] **AssetGroup** — групи ОЗ згідно НП(С)БО 7 та ПКУ (16 груп)
- [ ] **Asset** — основний засіб (інвентарний номер, назва, група, первісна вартість, дата введення, строк корисного використання, ліквідаційна вартість, МВО, місцезнаходження, рахунок обліку 10х)
- [ ] **AssetReceipt** — прихід (акт введення в експлуатацію)
- [ ] **AssetDisposal** — розхід (списання, продаж, ліквідація)
- [ ] **Depreciation** — нарахування амортизації (щомісячне)
- [ ] **DepreciationCalculation** — розрахунок амортизації

### Етап 4: Амортизація — 5 методів НП(С)БО 7
- [ ] **Прямолінійний** — рівномірно протягом строку
- [ ] **Зменшення залишкової вартості** — фіксований % від залишкової
- [ ] **Прискореного зменшення залишкової вартості** — подвійна норма
- [ ] **Кумулятивний** — сума чисел років
- [ ] **Виробничий** — пропорційно обсягу продукції
- [ ] Мінімальні строки амортизації за ПКУ ст. 138.3.3
- [ ] Щомісячне автонарахування амортизації
- [ ] Можливість перегляду строків та методу

### Етап 5: Інвентаризація
- [ ] **Inventory** — інвентаризація (дата, комісія, наказ)
- [ ] **InventoryItem** — рядки (ОЗ, наявність, стан, розбіжності)
- [ ] Порівняння фактичних даних з обліковими
- [ ] Виявлення нестач та надлишків

### Етап 6: Генерація PDF-документів
- [ ] Акт приймання-передачі ОЗ (ОЗ-1)
- [ ] Акт списання ОЗ (ОЗ-3)
- [ ] Акт на списання автотранспорту (ОЗ-4)
- [ ] Інвентаризаційний опис (інв-1)
- [ ] Відомість нарахування амортизації
- [ ] Інвентарна картка ОЗ-6

### Етап 7: Фронтенд (React)
Сторінки:
- [ ] Дашборд — загальна статистика
- [ ] Довідник груп ОЗ
- [ ] Реєстр ОЗ — таблиця з фільтрацією і пошуком
- [ ] Картка ОЗ — детальна інформація
- [ ] Прихід ОЗ — форма оприбуткування
- [ ] Списання ОЗ — форма вибуття
- [ ] Амортизація — нарахування, відомість
- [ ] Інвентаризація — створення, проведення
- [ ] Звіти — друк документів
- [ ] Управління користувачами (адмін)

## Технічний стек

| Компонент | Технологія |
|-----------|-----------|
| Backend | Django 5.x + DRF |
| Frontend | React 18 + TypeScript + Vite |
| UI-бібліотека | Ant Design (antd) — хороші таблиці та форми |
| Стан | Zustand |
| БД | PostgreSQL 16 |
| Auth | JWT (simplejwt) |
| PDF | ReportLab + xhtml2pdf |
| API-клієнт | Axios |
| Маршрутизація | React Router v6 |

## Групи ОЗ згідно ПКУ (ст. 138.3.3)

| Група | Мін. строк (років) |
|-------|-------------------|
| 1. Земельні ділянки | — |
| 2. Капітальні витрати на поліпшення земель | 15 |
| 3. Будівлі | 20 |
| 4. Машини та обладнання | 5 |
| 5. Транспортні засоби | 5 |
| 6. Інструменти, прилади | 4 |
| 7. Тварини | 6 |
| 8. Багаторічні насадження | 10 |
| 9. Інші ОЗ | 12 |
| 10. Бібліотечні фонди | — |
| 11. МНМА | — |
| 12. Тимчасові споруди | 5 |
| 13. Природні ресурси | — |
| 14. Інвентарна тара | 6 |
| 15. Предмети прокату | 5 |
| 16. Довгострокові біологічні активи | 7 |

## Рахунки обліку

- 10 — Основні засоби (101-109)
- 13 — Знос (зношення) необоротних активів (131-135)
- 15 — Капітальні інвестиції (151-155)



1. Бухгалтерські проводки (кореспонденція рахунків)

Автоматичне формування проводок при приході/вибутті/амортизації
Журнал проводок: Дт 10х — Кт 15х (прихід), Дт 23/91/92/93 — Кт 131 (амортизація), Дт 131 — Кт 10х (списання)
Оборотно-сальдова відомість по рахунках ОЗ
2. Переоцінка та поліпшення ОЗ

Дооцінка/уцінка згідно НП(С)БО 7 п.16-21
Облік капітальних поліпшень (збільшення первісної вартості)
Ремонти: капітальний (збільшує вартість) vs поточний (витрати)
3. Штрихкоди / QR-коди для інвентаризації

Генерація QR-міток для кожного ОЗ
Сканування камерою телефону при інвентаризації
Мобільна версія сторінки інвентаризації
4. Повноцінні друковані форми (типові)

ОЗ-1 за формою Мінфіну (акт приймання-передачі)
ОЗ-3 (акт списання)
ОЗ-4 (акт списання автотранспорту)
ОЗ-6 (інвентарна картка) — повна форма з усіма полями
Інв-1 (інвентаризаційний опис) з підписами комісії
5. Імпорт/Експорт

Імпорт ОЗ з Excel/CSV (масове завантаження)
Експорт реєстру в Excel
Експорт відомості амортизації в Excel
Вивантаження для 1С / M.E.Doc
Середній пріоритет
6. Розширений дашборд

Графіки: динаміка вартості ОЗ по місяцях
Діаграма зносу по групах (%)
ОЗ з найбільшим зносом (>90%)
Прогноз повної амортизації
Термін до повного зносу кожного ОЗ
7. Журнал подій (аудит)

Логування всіх дій: хто, коли, що змінив
Історія змін кожного ОЗ (вкладка "Історія" в картці)
Фільтрація по користувачу/даті/типу операції
8. Автоматичне нарахування амортизації

Celery + cron: автонарахування 1-го числа кожного місяця
Повідомлення бухгалтеру про успішне нарахування
Блокування повторного нарахування за період
9. Документообіг

Прикріплення сканів документів (акти, накладні, фото)
Зберігання файлів до кожного ОЗ
Перегляд сканів прямо в картці ОЗ
10. Фільтри та розширений пошук

Фільтр по діапазону дат введення
Фільтр по вартості (від — до)
Фільтр по % зносу
Фільтр по МВО, місцезнаходженню
Збереження фільтрів (закладки)
Низький пріоритет (перспектива)
11. Мультиорганізаційність

Кілька юрідичних осіб в одній системі
Розділення даних по організаціях
12. Інтеграції

Інтеграція з M.E.Doc (податкова звітність)
API для зв'язку з 1С
Інтеграція з BankID для підпису документів
13. Сповіщення

Email/Telegram-повідомлення: наближення повної амортизації, дата інвентаризації, нестачі
14. Мобільний додаток

PWA для інвентаризатора
Офлайн-режим при інвентаризації (синхронізація після)